<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.9.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta name="google-site-verification" content="0_tpf6zJsJqBBDzICQsb2Cx-cfNrUiyIUWte196o0IU"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="一个记录生活日常的网站"><title>C#学习笔记（一） | 程小猿</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/7.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">C#学习笔记（一）</h1><a id="logo" href="/.">程小猿</a><p class="description">生活不只有眼前的苟且，还有代码和bug</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/history/"><i class="fa fa-history"> 历史</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">C#学习笔记（一）</h1><div class="post-meta">Nov 29, 2017<script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> 阅读</span></span></div><div class="post-content"><p><img src="http://www.poliform.it/ContentsFiles/Poliform-Armadi-2014-C1-8-4396-RID.jpg" alt></p>
<p>C#是微软推出的类似C++和Java一种面向对象的语言，运行于.NET Framework框架（本人对.NET Framework一窍不通）之上的高级语言，它有很多特性类似于Java，比如单继承、接口等，同时也是一种简单的、通用的、现代的编程语言。</p>
<h4 id="C-中的值类型和引用类型"><a href="#C-中的值类型和引用类型" class="headerlink" title="C#中的值类型和引用类型"></a>C#中的值类型和引用类型</h4><p>理解值类型和引用类型非常重要，从概念上看，它们两个的区别是值类型直接存储其值，引用类型则存储对值的引用。这两种类型存储在内存不同的地方，值类型存储在堆栈中 ，引用类型存储在托管堆上。所以需要区别某个类型是引用类型还是值类型。存储位置的不同会有不同的影响。</p>
<p>例如，int是值类型，下面的语句会在内存的两个地方存储值。</p>
<p><code>int i = 10;</code></p>
<p><code>j = i;</code></p>
<p>再看下面代码，假如已经定义了一个类User：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">User user1,user2;</span><br><span class="line">user1 = new User();</span><br><span class="line">user1.age = 20;</span><br><span class="line">user2 = user1;</span><br><span class="line">Console.WriteLine(user2.age);</span><br><span class="line">user2.age = 30;</span><br><span class="line">Console.WriteLine(user1.age);</span><br></pre></td></tr></table></figure>
<p>上面代码创建了一个User对象的两个引用，并不会实例化给定类型的对象， 和Java类似，要创建对象分配内存空间就要使用new关键字，如上代码中，user1和user2引用同一个对象，所以user2的修改会影响user1，反之依然。所以程序会输出20和30。</p>
<h4 id="CTS类型"><a href="#CTS类型" class="headerlink" title="CTS类型"></a>CTS类型</h4><p>需要注意的是，C#认可的基本预定义类型并没有内置于C#中，它内置于.NET Framework中。比如在C#中声明一个int类型，实际上是声明了一个.NET结构中的System.Int32的一个实例。据说这样没有性能损失，因为这看起来似乎是吧基本数据类型看作是支持某些方法的类，例如把int类型转换成string类型，可以写成如下形式：</p>
<p><code>string s = i.ToString();</code></p>
<p>需要注意的是，这种便利的语法背后，类型实际仍存储为基本类型。基本类型在概念上用.NET结构表示，所以没有性能损失（为什么没有性能损失，暂时还不理解）。</p>
<h4 id="C-中的预定义类型"><a href="#C-中的预定义类型" class="headerlink" title="C#中的预定义类型"></a>C#中的预定义类型</h4><p>在C#中一共有15个预定义类型，其中13个是值类型，2个引用类型（string和object）。</p>
<ol>
<li><p>值类型</p>
<p>内置的CTS值类型表示基本类型，如整形和浮点类型，字符类型和布尔类型。</p>
<ul>
<li><p>整型</p>
<p>C#支持8个预定义整型类型，如下表所示：</p>
<p>|   名称   |     CTS类型     |    说明    |      范围       |<br>| :—-: | :———–: | :——: | :———–: |<br>| sbyte  | System.SByte  | 8位有符号整数  |   -128~127    |<br>| short  | System.Int16  | 16位有符号整数 | -32768~32767  |<br>|  int   | System.Int32  | 32位有符号整数 | -2^31~-2^31-1 |<br>|  long  | System.Int64  | 64位有符号整数 | -2^63~-2^63-1 |<br>|  byte  | System.UByte  | 8位无符号整数  |    0~2^8-1    |<br>| ushort | System.UInt16 | 16位无符号整数 |   0~2^16-1    |<br>|  uint  | System.UInt32 | 32位无符号整数 |   0~2^32-1    |<br>| ulong  | System.UInt64 | 64位无符号整数 |   0~2^64-1    |</p>
</li>
</ul>
</li>
</ol>
<p>这里还需要注意，C#数据类型的名称和C++、java类型一致，但是定义不同，在C#中，int总是32位带符号的整数，而在C++中，int的位数取决于平台。C#中所有的数据类型都与平台无关，这是为C#和.NET迁移到其他平台做准备。</p>
<p><strong>byte是0-255的标准8位类型，但是在强调类型安全时，C#认为byte类型和char类型完全不同，他们之间的编程转换必须显式写出。而且byte在默认状态下是无符号的。</strong></p>
<ol>
<li><p>浮点类型</p>
<p>如下表：</p>
<p>|   名称   |     CTS类型     |    说明     |  位数   |          范围（大致）          |<br>| :—-: | :———–: | :——-: | :—: | :———————-: |<br>| float  | System.Single | 32位单精度浮点数 |   7   |  ±1.5×10^-45~±3.4×10^38  |<br>| double | System.Double | 64位双精度浮点数 | 15/16 | ±5.0×10^-324~±1.7×10^308 |</p>
<p>在代码中如果没有对某个非整数值硬编码，则编译器一般嘉定该变量是double。如果指定为float则可以写成如下格式:</p>
<p><code>float f = 12.3F;</code></p>
<blockquote>
<p><strong>更高精度的浮点数</strong>:decimal</p>
</blockquote>
<p>|   名称    |     CTS类型      |       说明       |  位数  |         范围（大致）         |<br>| :—–: | :————: | :————: | :–: | :——————–: |<br>| decimal | System.Decimal | 128位高精度十进制树表示法 |  28  | ±1.0×10^-28~±7.9×10^28 |</p>
<p>CTS和C#一个重要的优点就是提供了一个专用类型进行财务计算，它就是decimal类型。使用这种类型取决于用户。但应注意，decimal类型不是基本类型，所以在使用此类型进行计算时会有性能损失。</p>
<p>要定义一个decimal类型如下所示：</p>
<p><code>decimal d = 12.30M;</code></p>
</li>
<li><p>布尔类型</p>
<p>|  名称  |     CTS类型      |      说明      |  位数  |   范围（大致）   |<br>| :–: | :————: | :———-: | :–: | :——–: |<br>| bool | System.Boolean | 表示true或false |  NA  | true或false |</p>
<p>bool值和整数值不能隐式转换，如果变量声明为bool类型，则只能使用true或这false。如果试图使用0作为false，或者非0值作为true作为返回类型为bool的方法返回值，就会出错。</p>
</li>
<li><p>字符类型</p>
<p>|  名称  |    CTS类型    |         说明          |<br>| :–: | :———: | :—————–: |<br>| char | System.Char | 表示一个16位的（Unicode）字符 |</p>
<p>char类型的字面量用单引号括起来，如‘A’，如果放在双引号中，编译器会把它看成字符串，从而产生错误。</p>
</li>
<li><p>string类型</p>
<p>先看代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">static void Main(string[] args)</span><br><span class="line">&#123;</span><br><span class="line">    string s1 = &quot;Hello world&quot;;</span><br><span class="line">    string s2 = s1;</span><br><span class="line">    Console.WriteLine(&quot;s1 is:&quot; + s1);</span><br><span class="line">    Console.WriteLine(&quot;s2 is:&quot; + s2);</span><br><span class="line"></span><br><span class="line">    s1 = &quot;Hello C Sharp&quot;;</span><br><span class="line">    Console.WriteLine(&quot;s1 is:&quot; + s1);</span><br><span class="line">    Console.WriteLine(&quot;s2 is:&quot; + s2);</span><br><span class="line"></span><br><span class="line">    Console.ReadLine();</span><br><span class="line">    return;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>string虽然也是引用类型，但是当更改string对象的内容时，并不是修改了原来的内容，而是在堆中重新创建了一个新的string对象。这和之前理解的引用似乎相反。这是因为字符串时不可改变的，修改其中任何一个字符串，就会创建一个新的对象。</p>
</li>
</ol>
</div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a data-url="http://ionestu.top/2017/11/29/C-学习笔记（一）/" data-id="ckrp7wb1n0001asw42lopqpnp" data-qrcode="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMYAAADGCAAAAACs8KCBAAACL0lEQVR42u3a3WrDMAwG0L3/S3ewq0Gb5JOcFiofX420JD4paNbPz0+8Hn8r/+b/9XyH50/Pr9+2MDAwvpbxOF0J464tHj33fG8YGBj7MKqbSx52dP/qnaN/ABgYGBgxILlnzsbAwMC4N+Dmh7zqa8LAwMDIg2B1K/n6aC6OgYHxhYxqY+CTf7+xv4GBgfEljF5YTI6PSXsg+TTaFQYGxmhGUrg/v56U1ZIWZj6WcRiOMTAwhjLWRx9Wyv3VJPZw5xgYGNswkoC4cky8K+c+POFiYGAMZVTL8dX4thIPqy8IAwNjKmNlnKKXuOYltkKLAgMDYzSjN+KQb6tamEvaBhepLAYGxmjG+vhXdWgjCeuFJigGBsZQRrWItpL09pqXUVDGwMDYhrFSoO+xe+MdL+6JgYGxASMv4udBNm895sW1wlgYBgbGOEbv8FdNYpNnVVNcDAyMHRh5kM3Dbt7a7B0TL34TDAyMcYyVYYuV9DV/EVGqjIGBMZpRLXhVk9j8yJhfx8DA2I3RC7K942PvSFpIXzEwMEYz8mNcr7X59nIeBgbGaEYvON4FuPkFYWBgDGU8iusdgxS9pubFHC4GBsYgRjXYJYDkRfQGLKqvCQMDYxIjf3A13e2F8l74xsDA2IGxUrhfp1aD/sVwGAYGxsaMajszP/zldzhMXzEwMDCKwTQ//PWuv/gmBgbGBoxqmOsd8qo1v0JLFQMDYzSj1xhYL+tXWw7J0zEwMMYxfgE34NE/X9I1ogAAAABJRU5ErkJggg==" class="article-share-link">分享</a><div class="tags"><a href="/tags/C/">C#</a><a href="/tags/NET/">.NET</a></div><div class="post-nav"><a href="/2017/12/06/C-学习笔记（二）-Timer/" class="pre">C#学习笔记（二）-Timer</a><a href="/2017/11/20/如何使用Windows10自带的linux系统/" class="next">如何使用Windows10自带的linux系统</a></div><div id="lv-container" data-id="city" data-uid="MTAyMC8zMTkyNS84NDg5"><script>(function(d, s) {
   var j, e = d.getElementsByTagName(s)[0];
   if (typeof LivereTower === 'function') { return; }
   j = d.createElement(s);
   j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
   j.async = true;
   e.parentNode.insertBefore(j, e);
})(document, 'script');
</script></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form action="//www.baidu.com/baidu" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="search" name="word" maxlength="20" placeholder="Search"><input type="hidden" name="si" value="http://ionestu.top"><input name="tn" type="hidden" value="bds"><input name="cl" type="hidden" value="3"><input name="ct" type="hidden" value="2097152"><input name="s" type="hidden" value="on"></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/C/" style="font-size: 15px;">C#</a> <a href="/tags/NET/" style="font-size: 15px;">.NET</a> <a href="/tags/C-线程/" style="font-size: 15px;">C#线程</a> <a href="/tags/Timer/" style="font-size: 15px;">Timer</a> <a href="/tags/Spring/" style="font-size: 15px;">Spring</a> <a href="/tags/Springframework/" style="font-size: 15px;">Springframework</a> <a href="/tags/Mybatis/" style="font-size: 15px;">Mybatis</a> <a href="/tags/SpringMVC/" style="font-size: 15px;">SpringMVC</a> <a href="/tags/menuconfig可视化/" style="font-size: 15px;">menuconfig可视化</a> <a href="/tags/Linux/" style="font-size: 15px;">Linux</a> <a href="/tags/Ubuntu/" style="font-size: 15px;">Ubuntu</a> <a href="/tags/算法/" style="font-size: 15px;">算法</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2021/07/30/menuconfig学习笔记/">menuconfig学习笔记</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/12/06/C-学习笔记（二）-Timer/">C#学习笔记（二）-Timer</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/29/C-学习笔记（一）/">C#学习笔记（一）</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/20/如何使用Windows10自带的linux系统/">如何使用Windows10自带的linux系统</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/17/SpringMVC-Spring-Mybatis整合记录/">SpringMVC Spring Mybatis整合记录</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/17/算法初探之二分查找/">算法初探之二分查找</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="https://github.com/JiZhiqi" title="欢迎交换友链" target="_blank">欢迎交换友链</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2021 <a href="/." rel="nofollow">下雨.</a> 由<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo 强力驱动.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="#"> Maupassant.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.1.20/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.1.20/jquery.fancybox.min.css"><script type="text/javascript" color="150,150,150" opacity="0.8" zindex="-1" count="160" src="//cdn.bootcss.com/canvas-nest.js/1.0.1/canvas-nest.min.js"></script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>